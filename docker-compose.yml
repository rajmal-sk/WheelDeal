# This YAML file configures a service for PostgreSQL using Docker Compose. 
services:
  # Defining the service named 'postgres'
  postgres:
    # Specifies the Docker image to use for the service.
    image: postgres
    # Environment variables to set for the 'postgres' service
    environment:
      - POSTGRES_PASSWORD=postgrespw   
    # Port mapping for the 'postgres' service.
    ports:
      # Maps port 5432 on the host to port 5432 on the container.
      - 5432:5432
    # Volume mapping for the 'postgres' service
    volumes:
      # Mounts a named volume 'pgdata' to the container directory 'var/lib/postgresql/data'
      - pgdata:/var/lib/postgresql/data

# Define named volumes used by the services
volumes:
  # Declare a named volume 'pgdata' that will be used to persist PostgreSQL data.
  pgdata: